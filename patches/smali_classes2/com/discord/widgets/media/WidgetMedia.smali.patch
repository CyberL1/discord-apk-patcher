--- smali_classes2/com/discord/widgets/media/WidgetMedia.smali
+++ smali_classes2/com/discord/widgets/media/WidgetMedia.smali
@@ -644,13 +644,26 @@
     new-instance v1, Ljava/lang/StringBuilder;
 
     invoke-direct {v1}, Ljava/lang/StringBuilder;-><init>()V
-
-    invoke-virtual {v1, p2}, Ljava/lang/StringBuilder;->append(Ljava/lang/Object;)Ljava/lang/StringBuilder;
 
-    const-string p2, "?width="
+    invoke-virtual {p2}, Landroid/net/Uri;->toString()Ljava/lang/String;
+    move-result-object v0
 
-    invoke-virtual {v1, p2}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
+    invoke-virtual {v1, v0}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
 
+    const-string v2, "?"
+
+    invoke-virtual {v0, v2}, Ljava/lang/String;->contains(Ljava/lang/CharSequence;)Z
+    move-result v2
+
+if-eqz v2, :no_query
+    const-string v3, "&width="
+    goto :append
+
+:no_query
+    const-string v3, "?width="
+
+:append
+    invoke-virtual {v1, v3}, Ljava/lang/StringBuilder;->append(Ljava/lang/String;)Ljava/lang/StringBuilder;
     invoke-virtual {p1}, Landroid/graphics/Rect;->width()I
 
     move-result p2
